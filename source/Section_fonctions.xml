<?xml version="1.0" encoding="UTF-8"?>

<!-- Ce fichier constitue une section du livre                              -->
<!--                                                                        -->
<!--      Mathématiques discrètes : Intuition et rigueur                    -->
<!--                                                                        -->
<!-- Creative Commons Attribution Share Alike 4.0 International             -->
<!-- CC-BY-4.0                                                              -->
<!-- Jean-Sébastien Turcotte                                                -->

<!-- Les sections sont divisées en quatre parties, en plus du titre. Les parties introduction et conclusion sont facultatives. Le texte de ceux-ci apparait respectivement avant et après les sections. Les exercices sont à la fin de la section -->

<section xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="sec-fonctions">   <!-- Ajouter l'identifiant de la section après le - du xml:id -->
    <title> Les fonctions </title>
    <introduction xml:id= "intro-fonctions">  <!-- Ajouter le même identifiant de la section après le - du xml:id -->
    <p>Étant donné deux ensembles <m>A,B</m>, potentiellement égaux, on peut s'intéresser aux relations qui existent entre les éléments de ces ensembles. Par exemple, on peut parler d'un lien de famille entre ensembles de personnes, une catégorisation de produits (un ensemble d'aliments et un ensemble contenant des identifiants comme  fruit, légume, viande, etc.) etc.</p>
    </introduction>
    
    <!-- Sous-sections à écrire, à même ce fichier -->
    <subsection>
    <title>Définitions et exemples</title>
    <p>Soit <m>A</m> et <m>B</m> deux ensembles. Une relation est un sous-ensemble  <m>R\subseteq A\times B</m>. On dit parfois que <m>R</m> est une relation de <m>A</m> vers <m>B</m>.  Deux éléments <m>a\in A</m> et <m>b\in B</m> sont dits en relation si <m>(a,b)\in R</m>. On écrit aussi <m>a~ R~ b</m> ou <m>a\sim b</m> pour dire que les éléments <m>a,b</m> sont en relation.</p>
    <example xml:id="ex-rel">
    <title>Un exemple de relation</title>
    <statement><p>On considère l'ensemble <m>A=B</m> formé des provinces canadiennes. On pose <me>R=\{(p,q)\in A\times A~|~\text{il existe une frontière terrestre entre } p \text{ et }q\}</me>. On cherche trois éléments de <m>A\times A</m> qui sont en relation <m>R</m> et deux qui ne le sont pas.</p></statement>
    <solution><p>On considère le Québec. La province possède une frontière commune avec l'Ontario à l'ouest, avec le Nouveau-Brunswick au sud-est et avec Terre-Neuve par le biais du Labrador à l'est. Ainsi <m>(\text{Québec},\text{Ontario}),(\text{Québec},\text{Nouveau-Brunswick}),(\text{Québec},\text{Terre-Neuve})\in R</m>.</p>
    <p>Par contre, le Québec n'a pas de frontière terrestre avec l'Alberta ou la Colombie-Britannique alors <m>(\text{Québec},\text{Alberta}),(\text{Québec},\text{Colombie-Britannique})\notin R</m>.</p>
    </solution>
    </example>
    <p>Le type de relation le plus important et utile en mathématique est certainement la fonction. Une relation est une fonction si elle respecte des conditions additionnelles.</p>
    <definition xml:id="def-fonction">
    <title>Une fonction</title>
    <statement><p>Soit <m>A,B</m> deux ensembles et <m>R\subseteq A\times B</m> une relation. On dit que <m>R</m> est une <em>fonction</em> si pour chaque élément <m>a\in A</m> fait partie d'exactement un élément de <m>R</m>. En d'autres mots, un élément de <m>A</m> ne peut être en relation qu'avec un seul élément.  </p>
    <p>Traditionnellement, on dénote les fonctions par les lettres <m>f,g,h</m>. On écrit alors
    <md>
    <mrow>f&amp;: &amp;A&amp;\to B</mrow>
    <mrow>&amp;&amp;a&amp;\to f(a)=b</mrow>
    </md>.</p>
    <p>Chaque élément <m>a\in A</m> possède un élément <m>b\in B</m> tel que <m>f(a)=b</m>, mais un élément de <m>B</m> peut ne pas être atteint par un élément de <m>A</m>. Dans la définition d'une fonction, on spécifie souvent les trois ensembles suivants:
    <dl>
    <li><title>Le domaine:</title><p>L'ensemble <m>A</m> est appelé le domaine de la fonction.</p></li>
    <li><title>Le codomaine:</title><p>L'ensemble <m>B</m> est appelé le codomaine de la fonction.</p></li>
    <li><title>L'image:</title><p>L'image est l'ensemble des <m>b\in B</m> qui sont atteints par au moins une valeur  <m>a\in A</m>: <me>
    \text{Ima}(f)=\{b\in b~|~ \text{il existe } a\in A \text{ pour lequel } f(a)=b\}
    </me>.</p>
    <p>Si <m>f(a)=b</m>, on dit aussi que <m>b</m> est l'image de <m>a</m> et que <m>a</m> est une préimage de <m>b</m>.</p>
    </li>
    </dl>
    </p>
    </statement>
    </definition>
    <p>Une fonction est une machine qui associe à chaque entrée exactement une sortie. Le processus par lequel s'effectue la transformation peut souvent être explicite, mais parfois implicite ou inconnu. </p>
    <example>
    <title>Des fonctions</title>
    <statement><p>On cherche parmi les relations suivantes lesquelles sont des fonctions:
    <ol>
    <li><p>La relation définie à l'exemple <xref ref="ex-rel"/>.</p></li>
    <li><p>La relation qui associe à chaque étudiant d'un cours une note à la fin de la session.</p></li>
    <li><p>La relation qui associe à un étudiant les langages de programmation qu'il connait.</p></li>
    <li><p>La relation de <m>\N</m> vers <m>\N</m> qui associe à un nombre <m>k</m> son carré <m>k^2</m>.</p></li>
    <li><p>La relation de <m>\N</m> vers <m>\R</m> qui associe à un nombre <m>k</m> les nombres <m>r</m> tels <m>r^2=k</m>.</p></li>
    <li><p>La relation <m>f:\N\to \N</m> définie par <m>f(n)=\frac{n}{2}</m>.</p></li>
    <li><p>La relation <m>f:\N\to \Q</m> définie par <m>f(n)=\frac{n}{2}</m>.</p></li>
    <li><p>La relation de <m>\N\backslash\{0\}</m> vers <m>\N</m> qui associe à <m>n</m> le <m>n^{\text{e}</m> nombre premier.</p></li>
    </ol>
    </p></statement>
    <solution>
    <p><ol>
    <li>
    <p>La relation entre les provinces de Canada n'est pas une fonction. Une province peut être en relation avec plusieurs autres, comme le Québec. Une province peut aussi ne pas être en relation avec aucune autre, comme l'Île-du-Prince-Édouard.</p>
    </li>
    <li><p>À la fin de la session, chaque étudiant aura une note. Deux étudiants auront peut-être la même note, mais ce n'est pas contre l'idée d'une fonction. Par contre, un étudiant aura une et une seule note. C'est donc une fonction.</p></li>
    <li><p>Parce qu'un étudiant pourrait connaitre plus d'un langage de programmation, ce n'est pas une fonction. De même, peut-être qu'un étudiant ne sait même pas programmer.</p></li>
    <li><p>Cette relation est une fonction, car à tout nombre <m>k\in \N</m> il existe une seule valeur pour <m>k^2</m>. Par exemple, si on note cette fonction par <m>f</m>, alors <m>f(4)=16,f(5)=25</m> etc.</p></li>
    <li><p>Ce n'est pas une fonction car, étant donné <m>k\in N</m>, il existe deux nombres dans <m>\R</m> pour lesquels cela est possible, soit <m>\pm \sqrt{k}</m>. Par exemple, le naturel <m>4</m> serait associé à la fois à <m>-2</m> et à <m>2</m> par cette relation.</p>
    <p>Si on changeait le codomaine par l'ensemble des rééls positifs, <m>\R^{+}</m>, alors on aurait une fonction.</p>
    </li>
    <li><p>Cette relation n'est pas une fonction, car certaines valeurs du domaine ne possèdent pas d'image. C'est le cas pour <m>3</m>, puisque <m>f(3)=\frac{3}{2}\notin \N</m>.</p></li>
    <li><p>Cette fois-ci, le codomaine est adéquat et on a une fonction puisque la valeur <m>\frac{n}{2}</m> est unique pour chaque <m>n\in \N</m>.</p></li>
    <li><p>Cette relation est une fonction, car il n'existe qu'un seul <m>n^\text{e}</m> nombre premier et qu'il en existe une infinité. Toutefois, contrairement aux autres fonctions ci-dessus, il n'y a pas de formule explicite pour déterminer <m>f(n)</m>. La liste des premiers nombres premiers est <m>2,3,5,7,11,13,17,19,23,\ldots</m>.</p></li>
    </ol></p>
    </solution>
    </example>
  <subsection>
  <title>Représentation d'une fonction</title>
  <p>Pour aider à comprendre  une fonction, il peut être pratique de la visualiser à l'aide de différents outils. Selon le domaine et/ou le codomaine, certains sont plus appropriés que d'autres. À titre d'exemple, on considère les ensembles <m>A=\{0,1,2,3\}</m> et <m>B=\{1,2,3\}</m> et la fonction définie comme suit:
  <m>
  f(0)=1,f(1)=3,f(2)=1,f(3)=2
  </m>.
  </p>
  <p>Une première représentation est celle d'un diagramme sagittal. Cette représentation n'est pratique que si le nombre d'éléments de chaque ensemble est relativement petit. Le diagramme sagital de la fonction <m>f</m> est illustré à la figure <xref ref="fig-diasagi" text="custom">ci-dessous</xref>.</p>
  <figure xml:id="fig-diasagi">
  <caption>Un diagramme sagittal de <m>f</m></caption>
  <image xml:id="img-diasagi">
  <sageplot>
var("y")
Ovales=ellipse((-2, 0), 1, 2,axes=False,color="black")+ellipse((2, 0), 1, 2,axes=False,color="black")
A=text("A",(-3,2),color="black")+points([(-2,-1.3),(-2,-0.45),(-2,0.45),(-2,1.3)],color="black")+text("0",(-2.2,1.3),color="black")+text("1",(-2.2,0.45),color="black")+text("2",(-2.2,-0.45),color="black")+text("3",(-2.2,-1.3),color="black")
B=text("B",(3,2),color="black")+points([(2,-0.8),(2,0.05),(2,0.95)],color="black")+text("1",(2.2,0.95),color="black")+text("2",(2.2,0.05),color="black")+text("3",(2.2,-0.8),color="black")
fleches=arrow((-2,1.3),(2,0.95),color="black",arrowsize=2)+arrow((-2,0.45),(2,-0.8),color="black",arrowsize=2)+arrow((-2,-0.45),(2,0.95),color="black",arrowsize=2)+arrow((-2,-1.3),(2,0.05),color="black",arrowsize=2)
Ovales+A+B+fleches
  </sageplot>
  </image>
  </figure>
  <p>Les ellipses autour des éléments sont parfois omis dans cette représentation.</p>
  <p>Une autre méthode est en effectuant tout simplement une représentation graphique des valeurs. Cette méthode ne fonctionne que si les ensembles sont numériques bien sûr. Ci-dessous, la représentation de la fonction <m>f</m> ainsi que d'une fonction <m>g:\R\to\R</m> sinusoïdale. C'est surtout dans un contexte continue qu'on utilise ce type de représentation, mais à l'occasion aussi dans un contexte discret.</p>
  <sidebyside width="40%">
  <figure>
  <caption>Un graphique pour <m>f</m></caption>
  <image xml:id="img-pointsf">
  <sageplot>
points([(0,1),(1,3),(2,1),(3,2)],color="black",pointsize=40)
  </sageplot>
  </image>
  </figure>
  <figure xml:id="fig-sinus">
  <caption>Une fonction sinusoïdale</caption>
  <image xml:id="img-sinus">
  <sageplot>
plot(sin(3*x)*cos(x/2),(x,-pi,pi),color="black")
  </sageplot>
  </image>
  </figure>
  </sidebyside>
  <p>Une autre manière que l'on considère est de donner une table de valeurs. Celle-ci est utile dans un contexte discret, même lorsque le domaine possède une infinité d'éléments. On peut parfois y déceler une suite logique. Voici la table de valeurs de la fonction <m>f</m>. </p>
  <table>
  <title>La table de valeurs pour la fonction <m>f</m></title>
  <tabular top="major">
    <row bottom="medium">
      <cell>
        n
      </cell>
      <cell>
        f(n)
      </cell>
    </row>
    <row>
      <cell>
        0
      </cell>
      <cell>
        1
      </cell>
    </row>
    <row>
      <cell>
        1
      </cell>
      <cell>
        3
      </cell>
    </row>
    <row>
      <cell>
        2
      </cell>
      <cell>
        1
      </cell>
    </row>
    <row bottom="major">
      <cell>
        3
      </cell>
      <cell>
        2
      </cell>
    </row>
  </tabular>
</table>
<p>Une telle table pourrait aussi être horizontale.</p>
<p>Finalement, une fonction peut-être représentée par une règle algébrique. Selon les cas et en fonction des outils disponibles, cela permet de faire une analyse approfondie du comportement de la fonction. La règle de la fonction sinusoïdale de la figure <xref ref="fig-sinus"/> est <m>g(x)=\sin(3x)\cos(x/2)</m>.</p>
  </subsection>
</subsection>
   <!--
   <subsection>
    <title>Les permutations</title>
    <p>On s'intéresse maintenant à un type particulier de fonctions, appelées les permutations d'un ensemble. Une permutation est une fonction d'un ensemble <m>A</m> vers lui-même telle que chaque élément du codomaine possède une préimage. C'est un exemple de bijection, concept qui sera défini dans la sous-section <xref ref="sssec-injsurj"/>.</p>
    <example>
    <title>Les permutations d'un ensemble à trois éléments</title>
    <statement><p>On considère un ensemble <m>A=\{1,2,3\}</m>. On cherche à faire la liste des six<fn><p>Comment arrive-t-on à six?</p></fn> permutations de cet ensemble.</p></statement>
    <solution>
    <p>Une première option est d'attribuer à chaque élément lui-même dans son image. Une telle permutaiton est appelé &#x00AB; identité &#x00BB;, puisqu'elle laisse tout en place. Une autre option serait de laisser l'image de <m>1</m> à <m>1</m> et d'inverser les deux autres. En répétant ceci avec <m>2</m> et <m>3</m>, on obtient trois permutations, en plus de l'identité. Les deux autres s'obtiennent mélangeant toutes les valeurs. La liste de toutes les permutations se trouvent ci-dessous.</p>
    <sidebyside>
    <tabular top="major">
    <row>
      <cell>
        n
      </cell>
      <cell>
        1
      </cell>
      <cell>
        2
      </cell>
      <cell>
        3
      </cell>
    </row>
    <row bottom="major">
      <cell>
        f(n)
      </cell>
      <cell>
        1
      </cell>
      <cell>
        2
      </cell>
      <cell>
        3
      </cell>
    </row>
  </tabular>
    <tabular top="major">
    <row>
      <cell>
        n
      </cell>
      <cell>
        1
      </cell>
      <cell>
        2
      </cell>
      <cell>
        3
      </cell>
    </row>
    <row bottom="major">
      <cell>
        f(n)
      </cell>
      <cell>
        1
      </cell>
      <cell>
        3
      </cell>
      <cell>
        2
      </cell>
    </row>
  </tabular>
  <tabular top="major">
    <row>
      <cell>
        n
      </cell>
      <cell>
        1
      </cell>
      <cell>
        2
      </cell>
      <cell>
        3
      </cell>
    </row>
    <row bottom="major">
      <cell>
        f(n)
      </cell>
      <cell>
        3
      </cell>
      <cell>
        2
      </cell>
      <cell>
        1
      </cell>
    </row>
  </tabular>
    </sidebyside>
    <sidebyside>
      <tabular top="major">
    <row>
      <cell>
        n
      </cell>
      <cell>
        1
      </cell>
      <cell>
        2
      </cell>
      <cell>
        3
      </cell>
    </row>
    <row bottom="major">
      <cell>
        f(n)
      </cell>
      <cell>
        2
      </cell>
      <cell>
        1
      </cell>
      <cell>
        3
      </cell>
    </row>
  </tabular>
    <tabular top="major">
    <row>
      <cell>
        n
      </cell>
      <cell>
        1
      </cell>
      <cell>
        2
      </cell>
      <cell>
        3
      </cell>
    </row>
    <row bottom="major">
      <cell>
        f(n)
      </cell>
      <cell>
        3
      </cell>
      <cell>
        1
      </cell>
      <cell>
        2
      </cell>
    </row>
  </tabular>
    <tabular top="major">
    <row>
      <cell>
        n
      </cell>
      <cell>
        1
      </cell>
      <cell>
        2
      </cell>
      <cell>
        3
      </cell>
    </row>
    <row bottom="major">
      <cell>
        f(n)
      </cell>
      <cell>
        2
      </cell>
      <cell>
        3
      </cell>
      <cell>
        1
      </cell>
    </row>
  </tabular>
    </sidebyside>
    </solution>
    </example>
    <p>Une notation pratique pour les permutations consiste à les écrire dans.</p>
    </subsection> Les permutations À voir 
    --> <!--Les permutations -->
    <subsection>
    <title>La composition de fonctions</title>
    </subsection>
    <subsection xml:id="sssec-injsurj">
    <title>Fonctions injectives et surjectives</title>
    </subsection>
    <conclusion xml:id="concl-fonctions">  <!-- Ajouter le même identifiant de la section après le - du xml:id -->
    
    </conclusion>
   <!--Inclure les exercices de la section ci-dessous--> 
</section>
<!-- Définir f^-1(b) comme un ensemble et demander si une fonction. Revenir la dessua vec bijection -->